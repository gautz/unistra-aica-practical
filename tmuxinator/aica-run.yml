# ~/aica/tmuxinator/aica-run.yml

name: aica-run
root: ~/aica

pre_window: export currenttp=1
#pre_window: export currenttp=2

windows:
  - run-docker:
      layout: tiled
      panes:
        - export currentuser=0 && sudo docker run -it --rm --privileged --net=robot$currentuser -p 208${currentuser}0-208${currentuser}1:8080-8081 -v /home/robot$currentuser/aica/aica-license-robot$currentuser.toml:/license:ro -v /home/robot$currentuser/aica/persistent-tp$currenttp/:/data:rw -v /home/robot$currentuser/aica/yolo-example-data/:/yolo-example-data:rw --name robot$currentuser aica-vision-web
# Duplicate above line (pane) for each container you need for your practical lessons. Increment currentuser=0
# Change 208${currentuser}0-208${currentuser}1 with the ports that are public on your server
# Change currenttp=1 according to the current Group